<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Success</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
</head>
<body>

<style>
    .table-hover>tbody>tr:hover>td, .table-hover>tbody>tr:hover>th {
        background-color: #550055;
        color:#eeeeee;
        cursor: pointer;
    }

    .separator-right {
        border-right-style: dashed;
        border-right-color: black;
        border-right-width: 1px;
    }

    .separator-left {
        border-left-style: dashed;
        border-left-color: black;
        border-left-width: 1px;
    }
</style>
<div class="container">

    <div class="table-responsive">
        <div class="row">
            <div class="col-xs-2"></div>
            <h2 class="col-xs-5">Spam</h2>
            <h2 class="col-xs-5">No Spam</h2>
        </div>

        <table class="table table-striped table-hover" id="datatable">
            <thead>
                <tr>
                    <th></th>
                    <th></th>
                    <th>Min</th>
                    <th>Max</th>
                    <th>Moyenne</th>
                    <th>Ecart-type</th>
                    <th>Min</th>
                    <th>Max</th>
                    <th>Moyenne</th>
                    <th>Ecart-type</th>
                </tr>
            </thead>
            <tbody>
            {%  for s in stats %}
                <tr id="{{ s.0 }}" class="tr_spam">
                        <td><input type="checkbox" value="{{ s.0 }}"> </td>
                        <td onclick="row_clicked({{ s.0 }})">{{ s.0 }}</td>
                        <td class="spam separator-left" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.1 }}</td>
                        <td class="spam" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.2 }}</td>
                        <td class="spam" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.3 }}</td>
                        <td class="spam separator-right" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.4 }}</td>
                        <td class="no_spam" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.5 }}</td>
                        <td class="no_spam" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.6 }}</td>
                        <td class="no_spam" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.7 }}</td>
                        <td class="no_spam" data-toggle="modal" data-target="#modal_stats" onclick="row_clicked({{ s.1 }}, {{ s.2 }}, {{ s.3 }}, {{ s.4 }}, {{ s.5 }}, {{ s.6 }}, {{ s.7 }}, {{ s.8 }})">{{ s.8 }}</td>
                </tr>
            {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <th></th>
                    <th></th>
                    <th>Min</th>
                    <th>Max</th>
                    <th>Moyenne</th>
                    <th>Ecart-type</th>
                    <th>Min</th>
                    <th>Max</th>
                    <th>Moyenne</th>
                    <th>Ecart-type</th>
                </tr>
            </tfoot>
        </table>
    </div>

    <div class="modal fade" id="modal_stats" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="min-width: 400px; height: 500px; margin: 0 auto">
        <div class="modal-dialog">
            <div class="modal-content modal-popup">
                <div id="container"></div>
            </div>
        </div>
    </div>
</div>
<script>
    function row_clicked(min1, max1, avg1, std1, min2, max2, avg2, std2) {
        var spam = [min1, max1, avg1, std1];
        var no_spam = [min2, max2, avg2, std2];

            $('#container').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'Monthly Average Rainfall'
                },
                subtitle: {
                    text: 'Source: WorldClimate.com'
                },
                xAxis: {
                    categories: [
                        'Min',
                        'Max',
                        'Moyenne',
                        'Ecart-type'
                    ],
                    crosshair: true
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Rainfall (cm)'
                    }
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.3f}</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [{
                    name: 'Spam',
                    data: spam

                }, {
                    name: 'Non spam',
                    data: no_spam

                }]
            });
    }



</script>
</body>
</html>